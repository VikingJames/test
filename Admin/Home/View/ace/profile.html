
<title>修改资料</title>

<link rel="stylesheet" href="../../../Public/assets/css/jquery-ui.custom.min.css" />
<link rel="stylesheet" href="../../../Public/assets/css/jquery.gritter.css" />
<link rel="stylesheet" href="../../../Public/assets/css/select2.css" />
<link rel="stylesheet" href="../../../Public/assets/css/datepicker.css" />
<link rel="stylesheet" href="../../../Public/assets/css/bootstrap-editable.css" />

<div class="row">
	<div class="col-xs-12">
	
		<div class="hr dotted"></div>

		<div>
			<div id="user-profile-3" class="user-profile row">
				<div class="col-sm-offset-1 col-sm-10">
					<div class="well well-sm">
						<button type="button" class="close" data-dismiss="alert">&times;</button>
						&nbsp;
						<div class="inline middle blue bigger-110"> 您的用户资料已经完成70% </div>

						&nbsp; &nbsp; &nbsp;
						<div style="width:200px;" data-percent="70%" class="inline middle no-margin progress progress-striped active">
							<div class="progress-bar progress-bar-success" style="width:70%"></div>
						</div>
					</div><!-- /.well -->

					<div class="space"></div>

					<form class="form-horizontal">
						<div class="tabbable">
							<ul class="nav nav-tabs padding-16">
								<li class="active">
									<a data-toggle="tab" href="#edit-basic">
										<i class="green ace-icon fa fa-pencil-square-o bigger-125"></i>
										基本信息
									</a>
								</li>

								<li>
									<a data-toggle="tab" href="#edit-password">
										<i class="blue ace-icon fa fa-key bigger-125"></i>
										更改密码
									</a>
								</li>
							</ul>

							<div class="tab-content profile-edit-tab-content">
								<div id="edit-basic" class="tab-pane in active">
									<h4 class="header blue bolder smaller">一般设置</h4>

									<div class="row">
										<span class="profile-picture">
											<img class="editable img-responsive" alt="头像设置" id="avatar2" src="../../../Public/assets/avatars/profile-pic.jpg" />
										</span>

										<div class="vspace-12-sm"></div>

										<div class="col-xs-12 col-sm-8">
											<div class="form-group">
												<label class="col-sm-4 control-label no-padding-right" for="form-field-username">用户名</label>

												<div class="col-sm-8">
													<input class="col-xs-12 col-sm-10" type="text" id="form-field-username" placeholder="用户名" value="alexdoe" />
												</div>
											</div>

											<div class="space-4"></div>

											<div class="form-group">
												<label class="col-sm-4 control-label no-padding-right" for="form-field-first">姓名</label>

												<div class="col-sm-8">
													<input class="input-small" type="text" id="form-field-first" placeholder="姓" value="Alex" />
													<input class="input-small" type="text" id="form-field-last" placeholder="名" value="Doe" />
												</div>
											</div>
											
											<div class="space-4"></div>
											
											<div class="form-group">
												<label class="col-sm-4 control-label no-padding-right" for="form-field-date">出生日期</label>
		
												<div class="col-sm-8">
													<div class="input-medium">
														<div class="input-group">
															<input class="input-medium date-picker" id="form-field-date" type="text" data-date-format="yyyy-mm-dd" placeholder="1900-1-1" />
															<span class="input-group-addon">
																<i class="ace-icon fa fa-calendar"></i>
															</span>
														</div>
													</div>
												</div>
											</div>
											
											<div class="space-4"></div>
											
											<div class="form-group">
												<label class="col-sm-4 control-label no-padding-right">性别</label>
		
												<div class="col-sm-8">
													<label class="inline">
														<input name="form-field-radio" type="radio" class="ace" />
														<span class="lbl middle"> 男</span>
													</label>
		
													&nbsp; &nbsp; &nbsp;
													<label class="inline">
														<input name="form-field-radio" type="radio" class="ace" />
														<span class="lbl middle"> 女</span>
													</label>
												</div>
											</div>
											
											<div class="space-4"></div>
											
											<div class="form-group">
												<label class="col-sm-4 control-label no-padding-right" for="form-field-comment">简介</label>
		
												<div class="col-sm-8">
													<textarea id="form-field-comment"></textarea>
												</div>
											</div>
										</div>
									</div>

									<div class="space"></div>
									
									<h4 class="header blue bolder smaller">联系方式</h4>
									<div class="row">
										<div class="col-xs-12 col-sm-8">
											<div class="form-group">
												<label class="col-sm-4 control-label no-padding-right" for="form-field-email">邮箱</label>
		
												<div class="col-sm-8">
													<span class="input-icon input-icon-right">
														<input type="email" id="form-field-email" value="alexdoe@gmail.com" />
														<i class="ace-icon fa fa-envelope"></i>
													</span>
												</div>
											</div>
		
											<div class="space-4"></div>
		
											<div class="form-group">
												<label class="col-sm-4 control-label no-padding-right" for="form-field-website">Website</label>
		
												<div class="col-sm-8">
													<span class="input-icon input-icon-right">
														<input type="url" id="form-field-website" value="http://www.alexdoe.com/" />
														<i class="ace-icon fa fa-globe"></i>
													</span>
												</div>
											</div>
		
											<div class="space-4"></div>
		
											<div class="form-group">
												<label class="col-sm-4 control-label no-padding-right" for="form-field-phone">手机</label>
		
												<div class="col-sm-8">
													<span class="input-icon input-icon-right">
														<input class="input-medium input-mask-phone" type="text" id="form-field-phone" />
														<i class="ace-icon fa fa-phone fa-flip-horizontal"></i>
													</span>
												</div>
											</div>
										</div>
									</div>
									
									<div class="space"></div>
									<h4 class="header blue bolder smaller">社交</h4>
									
									<div class="row">
										<div class="col-xs-12 col-sm-8">
											<div class="form-group">
												<label class="col-sm-4 control-label no-padding-right" for="form-field-qq">QQ</label>
		
												<div class="col-sm-8">
													<span class="input-icon">
														<input type="text" value="qq_alexdoe" id="form-field-qq" />
														<i class="ace-icon fa fa-qq blue"></i>
													</span>
												</div>
											</div>
		
											<div class="space-4"></div>
		
											<div class="form-group">
												<label class="col-sm-4 control-label no-padding-right" for="form-field-renren">人人</label>
		
												<div class="col-sm-8">
													<span class="input-icon">
														<input type="text" value="renren_alexdoe" id="form-field-renren" />
														<i class="ace-icon fa fa-renren light-blue"></i>
													</span>
												</div>
											</div>
		
											<div class="space-4"></div>
		
											<div class="form-group">
												<label class="col-sm-4 control-label no-padding-right" for="form-field-weibo">微博</label>
		
												<div class="col-sm-8">
													<span class="input-icon">
														<input type="text" value="weibo_alexdoe" id="form-field-weibo" />
														<i class="ace-icon fa fa-weibo red"></i>
													</span>
												</div>
											</div>
										</div>
									</div>
								</div>

								<div id="edit-password" class="tab-pane">
									<div class="space-10"></div>
									
									<div class="form-group">
										<label class="col-sm-3 control-label no-padding-right" for="form-field-old">旧密码</label>

										<div class="col-sm-9">
											<input type="password" id="form-field-old" />
										</div>
									</div>
									
									<div class="space-4"></div>
									
									<div class="form-group">
										<label class="col-sm-3 control-label no-padding-right" for="form-field-new">新密码</label>

										<div class="col-sm-9">
											<input type="password" id="form-field-new" />
										</div>
									</div>

									<div class="space-4"></div>

									<div class="form-group">
										<label class="col-sm-3 control-label no-padding-right" for="form-field-new-confirm">新密码确认</label>

										<div class="col-sm-9">
											<input type="password" id="form-field-new-confirm" />
										</div>
									</div>
								</div>
							</div>
						</div>

						<div class="clearfix form-actions">
							<div class="col-md-offset-3 col-md-9">
								<button class="btn btn-info" type="button">
									<i class="ace-icon fa fa-check bigger-110"></i>
									保存
								</button>

								&nbsp; &nbsp;
								<button class="btn" type="reset">
									<i class="ace-icon fa fa-undo bigger-110"></i>
									重置
								</button>
							</div>
						</div>
					</form>
				</div><!-- /.span -->
			</div><!-- /.user-profile -->
		</div>

		<!-- PAGE CONTENT ENDS -->
	</div><!-- /.col -->
</div><!-- /.row -->

<!-- page specific plugin scripts -->

<!--[if lte IE 8]>
  <script src="../../../Public/assets/js/excanvas.min.js"></script>
<![endif]-->
<script type="text/javascript">
	var scripts = [null,"../../../Public/assets/js/jquery-ui.custom.min.js","../../../Public/assets/js/jquery.ui.touch-punch.min.js","../../../Public/assets/js/jquery.gritter.min.js","../../../Public/assets/js/bootbox.min.js","../../../Public/assets/js/jquery.easypiechart.min.js","../../../Public/assets/js/date-time/bootstrap-datepicker.min.js","../../../Public/assets/js/jquery.hotkeys.min.js","../../../Public/assets/js/bootstrap-wysiwyg.min.js","../../../Public/assets/js/select2.min.js","../../../Public/assets/js/fuelux/fuelux.spinner.min.js","../../../Public/assets/js/x-editable/bootstrap-editable.min.js","../../../Public/assets/js/x-editable/ace-editable.min.js","../../../Public/assets/js/jquery.maskedinput.min.js", null]
	ace.load_ajax_scripts(scripts, function() {
	  //inline scripts related to this page
		 jQuery(function($) {
					
		//another option is using modals
		$('#avatar2').on('click', function(){
			var modal = 
			'<div class="modal fade">\
			  <div class="modal-dialog">\
			   <div class="modal-content">\
				<div class="modal-header">\
					<button type="button" class="close" data-dismiss="modal">&times;</button>\
					<h4 class="blue">更改头像</h4>\
				</div>\
				\
				<form class="no-margin">\
				 <div class="modal-body">\
					<div class="space-4"></div>\
					<div style="width:75%;margin-left:12%;"><input type="file" name="file-input" /></div>\
				 </div>\
				\
				 <div class="modal-footer center">\
					<button type="submit" class="btn btn-sm btn-success"><i class="ace-icon fa fa-check"></i> 提交</button>\
					<button type="button" class="btn btn-sm" data-dismiss="modal"><i class="ace-icon fa fa-times"></i> 取消</button>\
				 </div>\
				</form>\
			  </div>\
			 </div>\
			</div>';
			
			
			var modal = $(modal);
			modal.modal("show").on("hidden", function(){
				modal.remove();
			});
	
			var working = false;
	
			var form = modal.find('form:eq(0)');
			var file = form.find('input[type=file]').eq(0);
			file.ace_file_input({
				style:'well',
				btn_choose:'点击选择新头像',
				btn_change:null,
				no_icon:'ace-icon fa fa-picture-o',
				thumbnail:'large',
				droppable:true,
				before_remove: function() {
					//don't remove/reset files while being uploaded
					return !working;
				},
				allowExt: ['jpg', 'jpeg', 'png', 'gif'],
				allowMime: ['image/jpg', 'image/jpeg', 'image/png', 'image/gif']
			});
	
			form.on('submit', function(){
				if(!file.data('ace_input_files')) return false;
				
				file.ace_file_input('disable');
				form.find('button').attr('disabled', 'disabled');
				form.find('.modal-body').append("<div class='center'><i class='ace-icon fa fa-spinner fa-spin bigger-150 orange'></i></div>");
				
				var deferred = new $.Deferred;
				working = true;
				deferred.done(function() {
					form.find('button').removeAttr('disabled');
					form.find('input[type=file]').ace_file_input('enable');
					form.find('.modal-body > :last-child').remove();
					
					modal.modal("hide");
	
					var thumb = file.next().find('img').data('thumb');
					if(thumb) $('#avatar2').get(0).src = thumb;
	
					working = false;
				});
				
				
				setTimeout(function(){
					deferred.resolve();
				} , parseInt(Math.random() * 800 + 800));
	
				return false;
			});
					
		});
	
		$('a[ data-original-title]').tooltip();
	
		///////////////////////////////////////////
		$('#user-profile-3')
		.find('input[type=file]').ace_file_input({
		})
		.end().find('button[type=reset]').on(ace.click_event, function(){
			$('#user-profile-3 input[type=file]').ace_file_input('reset_input');
		})
		.end().find('.date-picker').datepicker().next().on(ace.click_event, function(){
			$(this).prev().focus();
		})
		$('.input-mask-phone').mask('999 9999 9999');
	});
	
	
	});
</script>
